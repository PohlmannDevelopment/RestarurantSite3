<!DOCTYPE html>
<!--
    Name: Shawn Pohlmann
    Date Created: 12/30/18
    Most recent revision: 12/30/18
-->

<html lang="en">
<head>

    <title>Lucky Sevens</title>
    <style>
        body {
            text-align:center;
        }
        #form1 {
            text-align:center;
        }
        table {
            text-align: left;
            width: 30%;
            margin-left: 35%;
            margin-right: 35%;
            border: 5px solid black;
        }
    </style>
</head>
<body>
    <header>
        <h1>Lucky Sevens</h1>
    </header>
	<article id="form1">
		Starting Bet: <input class="txtBox" type="text" id="bet" name="bet" value="0"><br /><br />
		<button onclick="luckySevens()" id="play" class="playButton" type="button">Play</button>
    </article>
    <article id="results" style="display:none;">
        <hr />
        <h1>Results</h1>
        <table colspan="2">
            <tr>
                <td>Starting Bet</td>
                <td id="startingbet"></td>
            </tr>
            <tr>
                <td>Total Rolls Before Going Broke:</td>
                <td id="norolls"></td>
            </tr>
            <tr>
                <td>Highest Amount Won:</td>
                <td id="highamount"></td>
            </tr>
            <tr>
                <td>Roll Count at Highest Amount Won:</td>
                <td id="highroll"></td>
            </tr>
        </table>
        <br />
        <br />
        <p>To play again enter a dollar amount and hit play.</p>
    </article>
    <footer></footer>
    <script>
        function luckySevens() {
            var bet = document.getElementById("bet").value
            var dice1 = 0;
            var dice2 = 0;
            var maxmoney = bet;
            var maxmoneyrollno = 0;
            var rolls = 0;
            var initialbet = bet;

            if (isNaN(bet)) {
                alert("Must input numbers");
                return false;
            }
            if (bet <= 0) {
                alert("Number must be greater than 0");
                return false;
            }
            var x = document.getElementById("results");
            x.style.display = "block";
            document.getElementById("startingbet").innerHTML = '$' + initialbet;
            do {
                dice1 = Math.floor(Math.random() * 6) + 1;
                dice2 = Math.floor(Math.random() * 6) + 1
                if (dice1 + dice2 == 7) {
                    bet = bet + 4;
                }
                else {
                    bet = bet - 1;
                }

                if (bet > maxmoney) {
                    maxmoney = bet;
                    maxmoneyrollno = rolls;
                }

                rolls++;
            }
            while (bet > 0);
            document.getElementById("norolls").innerHTML = rolls;
            document.getElementById("highamount").innerHTML = '$' + maxmoney;
            document.getElementById("highroll").innerHTML = maxmoneyrollno;
        }
    </script>
</body>
</html>